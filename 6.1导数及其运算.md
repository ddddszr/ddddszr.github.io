---
title: 6.1导数及其运算
date: 2017-03-01 12:32:00
tags: [分析]
categories: Math
mathjax: true

---
这一章是比较简单的：计算方面，全然是高中知识；理论方面，难点是反函数求导、复合函数求导、隐函数求导和Leibniz公式。本节讨论前两个。本节中$f\in C^1(I)$只是指$f$在区间$I$上可导而非连续可导。

几个基本的结论(后两个均假定$f\in C^1\{x_0\}$，这里$C^1$仅仅指可导！)：
* $f(x)\in C^1\{x_0^+\}\Rightarrow f\in C\{x_0^+\}$,
* $f(x)\in C^1\{x_0^-\}\Rightarrow f\in C\{x_0^-\}$,
* $f(x)$在$x_0$存在两个单侧导数，则f在$x_0$连续(既有左极限又有右极限),
* $\Delta y=f'(x_0)\Delta x+o(\Delta x)(\Delta x\to0)$(有限增量公式),
* $\Delta y=f'(x_0)\Delta x+\omega(x)\Delta x$(上式的加强).

下面对最后一个结论作出证明，其中$\lim_{x\to x_0}\omega(x)=\omega(x_0)=0$.
proof:定义
$$\begin{eqnarray}
\omega(x)=
\begin{cases}
\frac{\Delta y}{\Delta x}-f'(x_0), &x\neq x_0,\cr 0, &x=x_0. \end{cases}
\end{eqnarray}
$$
容易知道它满足要求。又，这个公式将会被用于证明反函数求导定理和复合函数求导法则。

---
反函数求导法则:设$y=f(x)$是$x=\phi(y)$的反函数，若条件都满足则$f'(x_0)=\frac1{\phi'(y_0)}$.
proof:
设$x=\phi(y)\in C^1\{y_0\}$,由有限增量公式之加强得到$\Delta x=x-x_0=[\phi'(y_0)+\omega(y)]\Delta y$.因为该式的用处是$x\to x_0$时，所以必须把$\omega(y)$换为$\omega(f(x))$,于是有：
$$
\lim_{x\to x_0}\omega(f(x))=\omega(\lim_{x\to x_o}(f(x)))=\omega(f(x_0)).
$$
继而
$$
\frac{\Delta y}{\Delta x}=\frac 1{\phi'(y_0)+\omega(f(x))}.
$$
令$\Delta x\to0$,就有$f'(x_0)=\frac1{\phi'(y_0)}.$

复合函数求导法则(链式法则)：设$u=\phi(x)\in C^1\{x_0\},y=f(u)\in C^1\{u_0\}$.则$y=f(\phi(x))$在$x_0$可导，且$y'|_{x=x_0}=f'(\phi(x))\cdot\phi'(x).$
proof:
将有限增量公式之加强用到$u$、$y$两个函数上得到：
$$
\Delta u=[\phi'(x_0)+\omega_1(x)]\Delta x,\\
\Delta y=[f'(u_0)+\omega_2(u)]\Delta u.
$$
把$\Delta u$代入$\Delta y$得到：
$$
\Delta y=f'(\phi(x_0))\phi(x_0)\Delta x+\omega(x)\Delta x.
$$
其中$\omega(x)=f'(u_0)\omega_1(x)+\omega_2(u)\phi'(x_0)+\omega_1(u)\omega_1(x)$.当$x\to x_0$时，很明显$\omega(x)$的第一、三项都趋于0，又因为$\phi(x)\to\phi(x_0)=u_0$,所以$\omega(x)\to0.$
所以
$$
\frac{\Delta y}{\Delta x}=f'(\phi(x_0))\phi(x_0)+\omega(x).
$$
令$\Delta x\to0$就得到结果。
PS：这里不可以从
$$
\frac{\Delta y}{\Delta x}=\frac{\Delta y}{\Delta u}\cdot\frac{\Delta u}{\Delta x}
$$
出发，令$\Delta x\to0$得到
$$
\frac{\Bbb{d}y}{\Bbb{d}x}=\frac{\Bbb{d} y}{\Bbb{d} u}\cdot\frac{\Bbb{d} u}{\Bbb{d} x},
$$
因为$\Delta u=\phi(x)-\phi(x_0)$是有可能为0的！

切线的局部最优性：首先解释一下什么叫做最优性，在$x_0$的邻域内，有
$$|f(x)-l(x)|<|f(x)-L(x)|,$$
那么$y=l(x)$就是最优的，通俗地讲就是在某点处靠得$f$最近的直线就是最优的，下面证明函数某点的切线就是该点处最优的。
设$f\in C^1\{x_0\}$,$l(x)=f'(x_0)(x-x_0)+f(x_0)$,$L(x)=ax+b\neq l(x)$.则存在$\delta>0$,在$U(x_0,\delta)$中恒成立：
$$|f(x)-l(x)|<|f(x)-L(x)|.$$
proof：分$L$是否通过$(x_0,f(x_0))$来讨论。
(1).不通过，这种情况好办。由函数连续性和$L(x_0)\neq f(x_0)$得到:
$$
\lim_{x\to x_0}|f(x)-l(x)|=|f(x_0)-l(x_0)|=0<|f(x_0)-L(x_0)|=\lim_{x\to x_0}|f(x)-L(x)|.
$$
这表明不等式成立。
(2).通过，用到有限增量公式。设$L(x)=a(x-x_0)+f(x_0)(a\neq f'(x_0)$，这时加上有限增量公式分析如下：
$$
\lim_{x\to x_0}\left|\frac{f(x)-l(x)}{f(x)-L(x)}\right|=\lim_{x\to x_0}\left|\frac{o(x-x_0)}{(f'(x_0)-a)(x-x_0)+o(x-x_0)}\right|=o(1)< 1.
$$
由此可以看出有限增量公式的大用处，继而几可窥得Taylor公式的强大，后面我们还会证明Taylor多项式的局部最优性(这个比切线还“优”)。

---
习题
1.按定义，直接证明即可。

2.$f'(0)=0$.

3.$a=\frac1{2e}$.
4.
proof:充分性，$\Delta y=f'(x_0)\Delta x+o(\Delta x),\Delta g=g'(x_0)\Delta x+o(\Delta x)$.两式相减即得。必要性，由有限增量公式：
$$
\lim_{x\to x_0}\frac{f(x)-g(x)}{x-x_0}=(f'(x_0)-g'(x_0))+\lim_{x\to x_0}\frac{f(x_0)-g(x_0)}{x-x_0}=0.
$$
得$f(x_0)=g(x_0)$.继而$f'(x_0)=g'(x_0)$，即$f$和$g$在$x_0$处相切。

5.
proof：$x=\frac{\pi}2+2k\pi(k\in\Bbb{Z})$时，二者相交，此时有
$$
(f(x)\sin x)'=f'(x)\sin x+f(x)\cos x=g'(x).
$$
易知$g'(\frac{\pi}2+2k\pi)=f'(\frac{\pi}2+2k\pi)$,即证。

6.
proof：由因式定理，
$$
p(x)=(x-x_1)^{n_1}(x-x_2)^{n_2}\cdots(x-x_k)^{n_k}.
$$
对其求导就得到
$$
p'(x)=\sum_{i=1}^n\left[\prod_{1\le j\le n}^{j\neq i}n_i(x-x_i)^{n_i-1}(x-x_j)^{n_j}\right].
$$
虽然形式吓人，但把$p(x)$提出后就是答案。

7.
proof：只需研究$f'(0)$即可。其右导数为$\lim_{x\to0^+}\frac1{1+e^{1/x}}=0$,左导数为$\lim_{x\to0^-}\frac1{1+e^{1/x}}=1$,所以f在$\Bbb{R}-\{0\}$上可导。

8.基本题，答案分别是$n\neq0$、$n\ge 2$和$n\ge 3$.

9.
proof:注意f在0处可导就在0处连续，由Cauchy方程性质得到f处处连续进而得到$f(x)=f(1)^x$。由$f'(0)=1$不难解出$f(1)=e$,所以$f(x)=e^x$，所以f在实数域上可导且$f(x)=f'(x)$。

10.
solve：(1).只在$x=0$处连续，处处不可导(注意0处的左右导数不等)。(2).只在$x=0$处可导，其余处处不连续(自然也不可导)。

11.
solve：(1).只对有理点作证明，无理点取相同的逼近数列就好。对$x_0\in\Bbb{Q}\neq0$,先取$\{x_n\}=\frac n{n+1}x_0\to x_0$,则$\{f(x_n)\}\to x_0$.再取$\{y_n\}=\frac{\sqrt2n}{\sqrt2n+1}x_0\to x_0$,则$\{f(y_n)\}\to x_0^2+x_0\neq x_0$.所以f在$x_0$处无极限，也不连续。(2).
$$
f'(0)=\lim_{x\to0}\frac{f(x)}x=\lim_{x\to0}\frac{x+o(x)}x=1.
$$
12.
solve:当$x\le0$时，$\frac{|f(x)|}x\ge\frac{|g(x)|}x$,所以$0\ge\lim_{x\to0^-}\frac{|f(x)|}x\ge\lim_{x\to 0^-}\frac{|g(x)|}x=0$.从而$\lim_{x\to0^-}\frac{|f(x)|}x=0$.同理$\lim_{x\to0^+}\frac{|f(x)|}x=0$.这样就有：
$$
\lim_{x\to0}\frac{|f(x)|}x=\lim_{x\to 0}\frac{f(x)}x=0.
$$
再由f和g的连续性得到$f(0)=0$,所以$f'(0)=0$.

---
看了孙西坡的日志，倒是感慨万千——何谓反应激烈？时间仿佛又回到初中甚至小学(《西夏旅馆》)，追昔抚今岂不最令人心生纷乱。近来可谓诸事不顺，而且级数颇有些难(拟把$\sin x$的幂级数展开和余元公式拿出来单独说)。

一直记不得分段函数和等号重齐的多行公式怎么打，去网上一查竟然瞥见了一篇谈论Tex行文规范的文章。其中说对于分式外的小括号不能用“简单粗暴”的"\left("和"\right)"，真是令人大吃一惊，未曾想此道门路如此之深。